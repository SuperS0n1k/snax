(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7932:(e,s,t)=>{Promise.resolve().then(t.bind(t,1521))},1521:(e,s,t)=>{"use strict";t.d(s,{default:()=>o});var r=t(4001),a=t(7749),l=t(3549),n=t(2184);let i=a.forwardRef((e,s)=>{let{className:t,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.QP)((0,l.$)(s))}("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...i})});function o(){let[e,s]=(0,a.useState)(""),[t,l]=(0,a.useState)([]),[n,o]=(0,a.useState)(!1),c="https://poodle-relevant-alien.ngrok-free.app/messages";(0,a.useEffect)(()=>{d()},[]);let d=async()=>{try{o(!0);let e=await fetch(c,{headers:{"ngrok-skip-browser-warning":"eee"}});if(!e.ok)throw Error("Failed to fetch messages");let s=await e.json();l(s.messages||[])}catch(e){console.error("Error fetching messages:",e)}finally{o(!1)}},f=async()=>{if(e.trim())try{s("");let t={id:Date.now().toString(),content:e,role:"user",timestamp:new Date().toISOString()};l(e=>[...e,t]);let r=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"eee"},body:JSON.stringify({message:e})});if(!r.ok)throw Error("Failed to send message");let a=await r.json();if(a.response){let e={id:Date.now().toString()+"-response",content:a.response,role:"assistant",timestamp:new Date().toISOString()};l(s=>[...s,e])}}catch(e){console.error("Error sending message:",e)}};return(0,r.jsx)("div",{className:"flex flex-col h-screen bg-white",children:(0,r.jsx)("main",{className:"flex-1 flex flex-col p-4 overflow-hidden",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl mx-auto flex flex-col h-full",children:[(0,r.jsx)("div",{className:"flex-1 overflow-y-auto mb-4 space-y-4 justify-center",children:0!==t.length||n?(0,r.jsx)(r.Fragment,{children:n?(0,r.jsx)("div",{className:"flex justify-center py-4",children:(0,r.jsx)("div",{className:"animate-pulse text-gray-400",children:"Loading messages..."})}):t.map(e=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"max-w-[80%] px-4 py-2 rounded-3xl ".concat("user"===e.role?"bg-gray-100 text-white":"bg-gray-100 text-gray-800"),children:e.content})},e.id))}):(0,r.jsx)("div",{className:"h-full flex flex-col items-center justify-center"})}),(0,r.jsx)("div",{className:"w-full relative",children:(0,r.jsxs)("div",{className:"relative rounded-3xl border border-gray-300 shadow-sm overflow-hidden",children:[(0,r.jsx)(i,{placeholder:"Write anything...",className:"py-6 px-4 border-none focus-visible:ring-0 focus-visible:ring-offset-0 rounded-3xl",value:e,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())}}),(0,r.jsx)("div",{className:"absolute right-3 bottom-3",children:(0,r.jsx)("button",{onClick:f,className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors ".concat(e.trim()?"bg-black text-white":"bg-gray-200 text-gray-400"),children:(0,r.jsx)("span",{className:"text-sm",children:"â†‘"})})})]})})]})})})}i.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[276,142,767,358],()=>s(7932)),_N_E=e.O()}]);