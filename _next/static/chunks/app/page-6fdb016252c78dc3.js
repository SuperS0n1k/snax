(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7932:(e,t,s)=>{Promise.resolve().then(s.bind(s,1521))},1521:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(4001),l=s(7749),a=s(3549),n=s(2184);let i=l.forwardRef((e,t)=>{let{className:s,type:l,...i}=e;return(0,r.jsx)("input",{type:l,className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,a.$)(t))}("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});function o(){let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)([]),[n,o]=(0,l.useState)(!1),c="https://poodle-relevant-alien.ngrok-free.app/messages";(0,l.useEffect)(()=>{d()},[]);let d=async()=>{try{o(!0);let e=await fetch(c);if(!e.ok)throw Error("Failed to fetch messages");let t=await e.json();a(t.messages||[])}catch(e){console.error("Error fetching messages:",e)}finally{o(!1)}},f=async()=>{if(e.trim())try{t("");let s={id:Date.now().toString(),content:e,role:"user",timestamp:new Date().toISOString()};a(e=>[...e,s]);let r=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!r.ok)throw Error("Failed to send message");let l=await r.json();if(l.response){let e={id:Date.now().toString()+"-response",content:l.response,role:"assistant",timestamp:new Date().toISOString()};a(t=>[...t,e])}}catch(e){console.error("Error sending message:",e)}};return(0,r.jsx)("div",{className:"flex flex-col h-screen bg-white",children:(0,r.jsx)("main",{className:"flex-1 flex flex-col p-4 overflow-hidden",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl mx-auto flex flex-col h-full",children:[(0,r.jsx)("div",{className:"flex-1 overflow-y-auto mb-4 space-y-4",children:0!==s.length||n?(0,r.jsx)(r.Fragment,{children:n?(0,r.jsx)("div",{className:"flex justify-center py-4",children:(0,r.jsx)("div",{className:"animate-pulse text-gray-400",children:"Loading messages..."})}):s.map(e=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"max-w-[80%] px-4 py-2 rounded-3xl ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"),children:e.content})},e.id))}):(0,r.jsx)("div",{className:"h-full flex flex-col items-center justify-center"})}),(0,r.jsx)("div",{className:"w-full relative",children:(0,r.jsxs)("div",{className:"relative rounded-3xl border border-gray-300 shadow-sm overflow-hidden",children:[(0,r.jsx)(i,{placeholder:"Write anything...",className:"py-6 px-4 border-none focus-visible:ring-0 focus-visible:ring-offset-0 rounded-3xl",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())}}),(0,r.jsx)("div",{className:"absolute right-3 bottom-3",children:(0,r.jsx)("button",{onClick:f,className:"w-8 h-8 rounded-full flex items-center justify-center transition-colors ".concat(e.trim()?"bg-black text-white":"bg-gray-200 text-gray-400"),children:(0,r.jsx)("span",{className:"text-sm",children:"â†‘"})})})]})})]})})})}i.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[276,142,767,358],()=>t(7932)),_N_E=e.O()}]);